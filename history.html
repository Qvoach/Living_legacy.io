<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ò—Å—Ç–æ—Ä–∏—è</title>
  <link rel="stylesheet" href="history.css">
</head>
<body>
  <div class="bg-history">

    <div class="container">
      <h2>–ò—Å—Ç–æ—Ä–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π</h1>
      <div id="history-photos" style="width: 60%;"></div>
    </div>
    
  </div>

  <nav class="bottom-menu">
    <a href="tournament.html" class="menu-item" data-page="tournament">
      <div class="icon-container">
        <img src="img/tournament-gray.svg" alt="–¢—É—Ä–Ω–∏—Ä (—Å–µ—Ä—ã–π)" class="gray">
        <img src="img/tournament-green.svg" alt="–¢—É—Ä–Ω–∏—Ä (–∑–µ–ª–µ–Ω—ã–π)" class="green">
      </div>
      <span>–¢—É—Ä–Ω–∏—Ä</span>
    </a>
    <a href="index.html" class="menu-item active" data-page="home">
      <div class="icon-container">
        <img src="img/home-gray.svg" alt="–î–æ–º–æ–π (—Å–µ—Ä—ã–π)" class="gray">
        <img src="img/home-green.svg" alt="–î–æ–º–æ–π (–∑–µ–ª–µ–Ω—ã–π)" class="green">
      </div>
      <span>–î–æ–º–æ–π</span>
    </a>
    <a href="settings.html" class="menu-item" data-page="settings">
      <div class="icon-container">
        <img src="img/settings-gray.svg" alt="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ (—Å–µ—Ä—ã–π)" class="gray">
        <img src="img/settings-green.svg" alt="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–∑–µ–ª–µ–Ω—ã–π)" class="green">
      </div>
      <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
    </a>
  </nav>

  <script>
  const history = JSON.parse(localStorage.getItem('photoHistory') || '[]');
  const container = document.getElementById('history-photos');

// –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ ‚Äî –Ω–æ–≤—ã–µ —Ñ–æ—Ç–æ –ø–µ—Ä–≤—ã–º–∏
  history.reverse().forEach(item => {
  const div = document.createElement('div');
  div.className = 'history-item';

  const dateP = document.createElement('p');
  dateP.textContent = `üìÖ –°–¥–µ–ª–∞–Ω–æ: ${item.date}`;

  const sizeP = document.createElement('p');
  sizeP.textContent = item.size ? `üå≤ –†–∞–∑–º–µ—Ä –∫–µ–¥—Ä–∞: ${item.size} —Å–º` : 'üå≤ –†–∞–∑–º–µ—Ä –∫–µ–¥—Ä–∞: –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω';

  const img = document.createElement('img');
  img.src = item.src;
  img.alt = '–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ç–æ';
  img.className = 'history-photo';

  div.appendChild(dateP);
  div.appendChild(sizeP);
  div.appendChild(img);

  container.appendChild(div);
});


// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –º–µ–Ω—é (–¢—É—Ä–Ω–∏—Ä, –î–æ–º–æ–π, –ù–∞—Å—Ç—Ä–æ–π–∫–∏)
    const menuItems = document.querySelectorAll('.menu-item');

    function handleMenuClick(event) {
      event.preventDefault();
      menuItems.forEach(item => item.classList.remove('active'));
      event.currentTarget.classList.add('active');
      localStorage.setItem('activePage', event.currentTarget.dataset.page);
      window.location.href = event.currentTarget.href;
    }

    menuItems.forEach(item => item.addEventListener('click', handleMenuClick));

    window.addEventListener('load', () => {
      const activePage = localStorage.getItem('activePage') || 'home';
      menuItems.forEach(item => {
        item.classList.toggle('active', item.dataset.page === activePage);
      });
    });
  </script>
</body>
</html>